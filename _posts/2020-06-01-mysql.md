### 通信方式

单工：数据当向传输。类似：遥控器

半双工：双方都可相互发送，同一时间只有一台服务可发送数据，也就是你要给我发
的话，也必须等我发给你完了之后才能给我发。类似：对讲机

全双工：数据的传输是双向，可同时传输。类似：打电话

mysql 数据 半双工

### SQL执行阶段

（准备阶段）查询语句时预处理器判断是否存在字段或者表

优化阶段

执行阶段

### 存储引擎

5.5之前使用Myisam （利用索引，顺序存取数据的方法））

后只用innodb（支持事务，支持行级别的锁，对于业务一致性要求高的场景来说更适合。）

内存的缓冲池占满时InnoDB用LRU算法来管理缓冲池，淘汰热点数据。

InnoDB 一页 16K操作系统4K 所以读取一页需要4次IO

### 事务管理

#### 四大特性:ACID

- 原子性（Atomicity）

  对于一些列操作要么成功，要么都失败。失败了需要回滚，InnoDB 通过undo log来实现原子性，undo lod 记录了数据修改前的值，发送异常可以通过undo log 来进行回滚操作。

- 一致性（consistent）

  一致性一般再代码业务逻辑中控制。

- 隔离性（Isolation）

  多个事务同时操作同一张表或者同一行数据时，互不干扰，通过这种方式，保证业务数据最终一致性

- 持久性（Durable）

  就是服务器挂了或者重启，数据还能恢复原来的状态

### 事务带来问题

- 脏读

  通个事务读取两次结果不同，原因被其他事务修改了













