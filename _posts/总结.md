#### 1、Spring 如何解决循环依赖

在Spring DI的过程中首先会通过getSingleObject去判断缓存是否已经包含对象如果包含直接返回，缓存主要包含成品缓存和半成品缓存还有一个获取对象工厂的缓存所以由命中的话就不会在继续进行对对象初始化操作也没有注入的过程所以就不会循环依赖了，在对象对属性进行注入之前首先会判断这个对象是否由循环依赖的能力如果有的话则会生成个获取半成品的对象工厂（三级缓存）提供上面说的获取缓存对象的时候使用，这个工厂主要是 用来规避动态代理类的时候返回代理对象使用的。

#### 2、AOP原理

aop主要是利用动态代理来对被代理对象进行前置和后置调用，在Spring中如果被代理对象有实现接口的时用的时JDK自带的动态代理，否则使用CGLIB，在源码中的体现主要是在Bean调用初始化方法后的后置处理器，会生成一个JDKProxy，通过invoke方法来获取该对象的所有chain来进行遍历调用。

#### 3、平时用的什么数据库，mysql用过么，默认事务级别知道不？

事务主要有未提交读，和已提交读，可重复读，序列化，默认事务是已提交读，可重复读解决了不可重复读主要用MVCC实现和记录锁实现，序列化解决了所有问题主要使用MVCC和间隙锁

#### 4、如果一个sql执行慢，可能是什么原因造成的，你说说如果是你碰到了，你打算怎么排查?

可能是全表扫，或者数据量过大，表关联过多，还有可能表比较大导致的，首先我会看执行计划是否有全表扫，如果全表扫描的话看看加索引是否能解决问题，如果数据量过大可以对表进行水平拆分，如果是因为关联表太多导致笛卡尔积较大的话可以考虑是否添加冗余字段来减少表之间的关联，或者将sql进行拆分多个sql通过代码进行拼装

#### 5、gc了解么？讲下垃回收机制？full gc的过程？CMS垃圾回收器了解不

堆主要由新生代和老年代组成，新生代由E，S0，S1组成所以E区内存不足以容纳新加的对象是会触发Minor GC如果对象年龄大于15的话则进入老年代如果老年代内存也不足的话就会促发Full gc

CMS主要经历了初始标记，并发标记，重新标记，和并发回收，使用的是标记清理算法，使用与老年代，可能会造成空间碎片，单空间不足容下新进来的内存或者GC异常的时候会触发标记整理。主要优点是低停顿用于web访问较好的用户体验

#### 6、双亲委派模型知道不？说下原理

当我们需要加载一个对象的时候，首先会判断该对象是否加载过如果没有则调用父类加载直到BostStrap Load 如果父类未能加载则由自己加载以此类推直到加载到对象位置

#### 7、spring如何处理线程并发问题？

主要用ThreadLoad 来解决并发问题，通过ThreadLoad来对共享数据进行处理，主要原理是每一个Thread 都会维护一个ThreadLoad，通过ThreadLoadMap 来保存对象，Entry继承软引用所以在每次GC 的过程都会回收该对象也同时避免了OOM问题的存在，不过使用ThreadLoad要注意是利用要立即释放掉，有可能该线程被重复使用导致脏数据

#### 8、锁的四种状态及升级过程

无锁

偏向锁：当一个线程获取锁时该对象如果处于无所状态则会进行升级到偏向锁，偏向锁主要是同个线程进来的时候可直接获取锁

轻量级锁：当不同线程抢占锁的时候会自旋的尝试获取锁，如果尝试失败了就会膨胀为重量级锁

#### 9、悲观锁和乐观锁

乐观锁不怕数据被其他线程修改，通过不断尝试区判断当前值和我是否匹配匹配的话则获取该锁，比较常见的时CAS，用于并发不高的场景，否则对CPU带来过多的压力

悲观锁不允许其他线程修改数据，只要获取了直接对数据进行锁定，不允许其他线程对其修改

#### 10、说一下反射，反射会影响性能吗

反射主要 能够动态的获取一个实例的对象的方法字段等，会影响性能，需要校验是否安全，方法是否存在最终是调用native方法，native再高并发的情况下会影响性能，安全问题可以设置安全未校验，可以修改私有字段

#### 11、谈一下AQS吧

AQS主要运用再并发工具中比如重入锁，CountDownLatch等，主要将要被等待的线程的node节点以双端队列的形式存放再AQS中等待下次被唤醒使用完成后从释放头节点，插入队尾以尾插法的形式插入，node节点有传播，状态，清除状态等

#### 12、为什么用红黑树不用普通的AVL树

红黑树实现起来简单，只需两到三次旋转即可实现，AVL树实现起来比较麻烦也最坏的情况可能需要多次旋转，性能上也可能有所降低

#### 13、为什么在8的时候链表变成树

红黑树的时间复杂度是logn，8的话 为3转化后性能上有大大提高

#### 14、为什么在6的时候从树退回链表

因为树结构再新增和删除的逻辑较为复杂，而且一个节点需要到8的时候的概率非常的低，所以很难再出现要转树结构的可能，所以6的时候就退回来了

#### 15、innodb的底层数据结构

主要以B-Tree或者B+Tree B-Tree 和 B+Tree主要的区别是 B-Tree的数据内内容存放再每个节点当中，而B+Tree存放再所有叶子节点，B+Tree主要的优势再每页可以存放更多的节点，也从而减少服务的IO，查询效率上也更加稳定

#### 16、谈一下IOC底层原理

IOC主要是将所有的实体类进行统一管理，主要原理是，定位加载注册，首先通过配置文件或者注解先定为那些对象需要被加载，然后加载成resouse[]，封装成BeanDefinition，最后进行注册通过BeanDefinitionRegistry进行注册到BeanDefinitionMap,然后通过ApplicationContext 的GetBean方法进行对BeanDefinition的包装和注册

#### 17、mysql原子性和持久性怎么保证

原子性主要通过undolog一旦出现rockbake时将undolog上的日志进行回退

持久性当有写事务进来时，Mysql首先会缓存一份到服务，并且将数据命令保存再redolog主要应为redolog的是顺序IO，而磁盘存储时随机IO，所以会将数据临时存放再redolog，最后通过buffpoll定时的对磁盘刷脏

#### 18、初始化Bean对象有几个步骤，它的生命周期

首先定位对象的路径生成beandefinition

ApplicationContext getBean 生成BeanWapper

实例化对象

对象属性进行注入

调用对象前置方法

调用对象初始化方法

调用对象的后置方法主要用于生成代理对象

最后等destroy

#### 19、Dubbo的运行原理，支持什么协议，与SpringCould相比它为什么效率要高一些

#### 20、Zookeeper底层原理

#### 21、Zookeeper选举机制

首先说下zab协议当zk收到一个写请求时会转发到master节点上当master写成功的时候会，master会将这个命令转发到其他follower节点这时follower节点会返回一个ack给master，master只要收到过半节点就默认为成功同时再发送commit到fiollower。zxid的高36位为每次master变更的时候会加+，低36位是每次有写事件成功的时候会+1所以说明zxid越大代表这个节点的数据越新，Zookeeper选举的时候当首次启动的时候所有节点都会变为Lookind状态然后给自己节点投票，然后生成票据，票据主要有epoch，zxid，myid follower收到票据后会跟自己对比，对比的优先级有epoch（投票时钟）每次发起投票这个都会加1不一致说明不是本轮的票据则直接弃票，然后比较zxid，再比较myid，胜出的获取一票直到某个节点获取票数大于总数的一半则变为master节点，然后广播让其他节点别为follwer节点

#### 22、springBoot注解启动流程

SpringBootAppcation注解有个EnableAutoConfigurtion有import一个EnableAutoConfigurationImportSelector 该对象会实现ImportSelector接口实现ImportSelector方法最后通过返回一个字符串数组的形式将类全路径的类注入到Spring 容器中，核心类时SpringFoctroyLoaders 去解析MATE-INFO.spring.factroys问下所有配置的类做到自动装配

#### 23、数据库单表数据量过大怎样进行优化

可进行水平拆分

#### 24、说说mybatis的基本原理

服务启动的时候会先去解析配置文件，生成Configuration，扫描mapper 保存再Sement，当调用mapper时其实时调用一个代理对象，通过方法的全路径获取Segment最后解析Sql，最终调用jdbc执行语句，最后返回一个pojo

#### 25、各个MQ之间的比较

ActiveMQ 低吞吐，有丢失消息的风险

RabbitMQ  erlang语言开发的，对erlang语言不熟不好进行扩展，吞吐量较低

RocketMQ高吞吐配置好的情况下不丢失消息，阿里开源的，有可能阿里停止维护的风险

kafka提供较少的核心功能，高吞吐，再配置好的情况下不丢失消息，有可能重复推送消息

#### 26、为什么要用 Nginx?有啥用？优缺点

优点：负载均衡，高并发，配置简单，高可用，响应时间快，低内存，低CPU。缺点不够稳定

#### 27、JDK 的动态代理和 CGLIB 有什么区别？

JDK动态代理只能对有实现接口的目标对象进行代理JDK动态生成字节码去实现接口，cglib无需有接口，因为cglib是动态生成字节码的形式去继承目标对象所以该类和方法不能声明final，

#### 28、synchronized 作用，底层实现

作用主要是不允许多个线程同时执行该代码块，原理当线程进来时判断该该对象的锁标识是否支持偏向锁，如果当前是无锁状态则直接升级为偏向锁，如果当前是偏向锁则判断tharadId与对象头保持的是否一致一致则直接获取锁，不一致的话会自旋的尝试去获取锁，这时升级为轻量级锁，如果自旋一段时间还是没有获取锁则会膨胀为重量级锁

#### 29、ReetrantLock 和 synchronized 的区别

synchronized 为重入锁，异常或者执行结束会自动释放资源，通过关键字声明即可，默认等待时间

ReetrantLock为重入锁，可通过配置为公平锁，可以设置等待时间，用API的形式实现，要自己释放锁

#### 30、说一下 MVCC

添加两个字段一个为新增版本，一个为删除版本，所以当我们进行查询的时候只查新增版本比当前事务版本小的，删除版本比当前事务版本大的

#### 31、如何避免死锁

死锁主要造成的原因是，A在等待B释放资源，B在等待A释放资源。为了避免死锁，还是尽量不要在一个线程里持有两个锁，如果多个锁，控制加锁顺序，加锁限时，死锁检查。

#### 32、永久代和元空间的区别，两者会发生GC吗

jdk8后元空间替代了永久代，永久代是配置再jvm内存有上线也容易oom，元空间是使用用户自身内存，默认是无限大，可通过配置，永久代是使用jvm内存所以可以GC，而元空间是使用用户内存没办法做GC

#### 33、说下聚簇索引和非聚簇索引的区别

聚簇索引表示表只有唯一一个值，并且我们常用的offset是按聚簇索引来排序的，简单的来说聚簇索引有点像新华字典的拼音查询，非聚簇索引有点像偏旁部首查询，一个是有序的一个是无序的

#### 34、tcp 三次握手过程、滑动窗口是干什么的？

A端向B端建立连接，

第一次握手成功，B端有接收能力A端有发送能力

第二次握手成功，A端具有发送能力B端具有发送能力

第三次握手成功，B直到自己有发送能力

滑动窗口每次发送发送一段消息等待接收端返回ACK，接收到ACK则继续发送下一段保证了消息可靠性，如果返回的ACK为0则是发送试探包来确认连接是否正常，正常后慢慢恢复正常

#### 35、tcp如何保证可靠性

校验和：

超时重传：

流量控制：

确认答应和序列号：

建立连接：

#### 36、https原理

向服务端申请证书，服务端颁发证书，证书有过期时间，数字签名，公钥等信息，客户端校验证书是否合法，然后生成个随机数，通过随机数对数据进行对称加密，公钥对随机数非对称加密，然后拼装数据发送到服务端，服务端通过私钥解密，通过密钥对数据解密

#### 37、TCP/IP 4层模型

应用层：

传输层：获取IP

网络层：获取MAC

链路层：将数据转换为二进制

#### 38、什么是跳跃表

跳跃表有点类似平衡2插树，4向链表如当添加一个值的时候，首先会最高层的链表拿来判断，是否大于，大于则往右偏移，否则向下偏移直到名字同样的key或者到0层的时候，如果命中则直接替换，0层的话进行随机如果随机到则上升一层，直接随机失败为止

#### 39、redis的字典是如何做到平滑扩容

字典结构有两个table  th[0] 和 th[1] 还有个rehashid 没扩容的时候rehashid 为 -1 ，进行扩容的时候rehashid 为0，th[1]的长度为th[0]的两倍，然后将th[0]移动到th[1] 每次移一部分并不是一次全部迁移.每移动一个节点rehashid + 1，直到所有节点移动完毕,将原来th[0]的指针指向th[1].扩容就完毕了

#### 40、pull和push的区别，两者的优略势

push生产者往消费者发，消费比生产慢的时候可能会消息堆积的请求，好处实时响应

pull可以根据消费者的能力来进行消费，缺点消息延迟消费，还有空轮询的损耗

#### 41、Set 了解过吗？知道 add（） 会出什么问题吗？

Set是通过Map中的key作为值，所以可以去重，单对象的hash算法被重写了可能会出现两个同样的对象

#### 42、 Http 报文里有什么？

#### 43、 Redis 源码读过吗？直接说源码

#### 44、 讲 Dubbo SPI 的源码？

当获取扩展点的时候，Dubbo首先会取缓存中获取如果获取不到则会META-INFO的servers 的配置文件命名与我们获取的class路径一样的命名，通过IO读取文件信息，当name与我们获取的名字一样的时候则通过反射来获取该对象，主要如果这个文件有wapper和fitter累的时候则会对该对象进行包装先是拦截器 在 wapper  最后在  该对象

#### 45、 讲 Dubbo 服务暴露源码 + Dubbo 服务注册 

当dubbo启动时候会在zk上注册一个provide节点节点下有接口的全路径，和协议的临时节点。

#### 46、讲一下 Dubbo 服务引用底层？开始一直以为是动态***调用 invoker 模型，结果说不够底层原理问 RPC 协议。

#### 47、讲一下 Dubbo RPC 协议调用过程，使用哪些协议？

#### 48、设计一个轻量级服务器，需要用到哪些技术。

springboot，redis，dubbo，mybatis，mysql，mvc，

#### 49、讲一下 Spring 源码一些东西？

#### 50、看你写了一些框架，能说说 Spring 中的设计模式吗？

单例，代理，包装，模板，策略，侦听，享元，克隆，工厂，

#### 51、ThreadLocal 了解过吗？

#### 52、服务限流，服务隔离,熔断,服务降级。

服务限流:当服务达到流量阈值，则惊醒服务降级反对兜底数据

服务隔离:每个服务接口之间不相互影响,每个接口都有自己的线程池或者用信号量来控制最高的调用阈值

服务熔断:服务被调用时如果长时间没有返回可能会对整个系统的链路带来容灾，或者不断重试会对系统带来比较大的消耗，当频繁出现超时的情况，服务进行直接短路直接返回mock接口的兜底数据，等服务恢复正常后恢复该接口

#### 54、问 Redis 集群，主备，集群持久化 

#### 56、Dubbo 源码读过吗？

#### 57、 Dubbo 的连接

#### 58、 Dubbo 的负载均衡 

客户端启动时会去注册中心获取该接口可调用的所有服务，当接口被调用的时候，会通过所选的负载均衡策略来对其调用，负载均衡策略有，随机，加权随机，最少激活，hash，权重轮询，轮询等

#### 59、SpringBoot 用来做什么 

#### 60、 OOM 遇到过吗？问实际解决方案，上线项目遇到过着问题。

先查看日志是否能准确定位到莫一行导致的OOM，如果看不出来，则分析下这次上线代码哪里最有可能，导致OOM，然后进行排查，如果依然没有发现则需要dump一份jvm 内存日志通过工具来进行排查，可查看占用最大的元素，属于那个对象的思路进行定位

#### 61、为什么不选 SpringCloud，而选 Dubbo？ 

#### 62、Mysql 索引原理 

63提B+tree

#### 63、 B+树和红黑树区别

红黑树是平衡二叉树的一种，红黑树需满足，所有节点不是红节点就是黑节点;根节点都是黑节点;每条链路红节点必须相等;两个红节点不能相连;所有先加的节点必须的红色;红黑是比起平衡二叉树的优势在于实现起来比较简单；

B+tree是多路平衡树，一般用于数据库存储数据，因为数据的性能瓶颈在IO，所以用B+tree来保证树的层数不是很深来保证较少的IO，B+tree非叶子节点主要有索引值和引用组成，叶子节点多了个data；好处在于非叶子节点可以保持更多索引值，从而降低了层数，所有数据都保存在叶子节点查询时每次也必须到最底层，也保证的稳定性

#### 64、算法，字符串翻转，如何做到最优

将字符串转为char数组然后去前一半进行遍历，头尾进行对换

```java
public String rev(String str){
    char[] chars = str.toCharArray();
    int num = chars.length / 2;
    for (int i = 0; i < num; i++) {
        char temp = chars[i];
        chars[i] = chars[chars.length - 1 - i];
        chars[chars.length - 1 - i] = temp;
    }
	return new String(chars);
}
```

#### 65、redis分布式锁

redis分布式锁是个重入锁，通过不断的自旋来获取锁，获取锁的过程其实是执行个lua脚本，先判断key是否存在不存在直接获取锁，并设置过期时间，存在则判断当前获取锁的线程是否和当前一致一致则获取锁，并计数器加一，否则获取锁失败继续自旋直到获取锁或者时间过期为止，所以redis是非公平的锁

#### 66、Java有哪些队列？

阻塞，非阻塞，链表，数组，排序

#### 67、Java怎么加载类？

类加载的时候会先检查是否被加载过，如果没有则开始加载，

分配内存，因为分配内存会存在并发安全问题，所以通过cas进行分配

初始化0值

调用初始化方法

#### 68、设计模式了解吗？

#### 69、wait()和sleep()的区别

wait(),线程状态标为wait状态，便且释放该线程的锁等待notify来唤醒该线程，sleep线程状态变为time_wait，不会释放锁等待时间到达重新启动，两者都会释放线程时间片

#### 70、Tcp和udp区别

TCP可靠，UDP不可靠，TCP双向，UDP单向

#### 71、线程池的原理以及各种线程池的应用场景

#### 72、zookeeper分布式锁

zookeeper分布式抢占锁时，会在指点的节点下生成有序的临时节点最小的节点会获取锁，释放时会删除该临时节点，不是最小的节点通过watch机制监听紧挨着比自己小的节点，当节点释放时则该节点获取当前锁，以此类推，类似击鼓传花

#### HashMap底层如何实现？

#### Hash一致算法？

#### 说说HashMap和ConcurrentHashMap的区别？treemap和HashMap的区别？

HashMap线程不安全，ConcurrentHashMap 线程安全，Treemap key排序 基于红黑树排数，节点维护链表处理hash冲突

#### java的内存分区？

程序计数器：用于线程切换时可以找到上回的执行结束的地方

本地方法栈： 主要是是保存native方法是用的

虚拟机栈：保存本机调用方法时的用的，每个方法有局部变量表，操作数栈，方法返回值

java内存堆：保存实例数据

方法区：类加载信息，常量，静态变量等

#### java对象的回收方式，回收算法？

引用计数法，GCRoot

标记清除复制，标记清理，分代收集算法，标记整理

#### CMS和G1了解吗？

CMS和G1都是保证了GC过程中的低停顿，CMS用于老年代使用标记清理算法，可能造成大量的空间碎片，单有象进来容纳不下的时候会触发fullgc对老年代标记整理

G1分多个renige 因为每个renige 会维护一个记忆集可能对内存要求会比较高，G1主要的优势在筛选回收的时候可以设置停顿时间，可以给用户带来较好的体验

#### CMS解决什么问题，说一下回收的过程？

初始标记（stw），并发标记，重新标记（stw），并发回收

#### CMS回收停顿了几次？

2次

#### java栈什么时候会内存溢出，java堆呢，说一种场景？

方法被频繁调用，递归死循环的情况下就会出现，当设置对的内存不足以提供当前程序所用的内存时触发

#### 集合类如何解决这个问题（软引用和弱引用），讲下这个两个引用的区别？

软用引用在内存不足的时候在OOM之前回收，弱引用只要GC就会回收

#### java里的锁了解哪些?

#### synchronized锁升级的过程（偏向锁到轻量锁再到重量级锁），分别如何实现的，解决的是哪些问题？

无锁

偏向锁

轻量级

重量级

#### Tomcat的基本架构是什么？

#### 什么是类加载器？

类加载器是在java运行时将类动态加载到java虚拟机内存中，首先判断该类是否在加载过没有的话再去加载该类，类加载器主要有cust(用户),app(classPath),ext(lib\ext),bootstrap(lib)

使用双亲委派机制，当类需要被加载的时候首先先判断是否加载过加载过则直接返回，否则委派给父类加载器去加载，这样保证同一个class 不会被重复加载，也保证了核心class不会被篡改

#### 说说双亲委派模型机制？

同上

#### GC的机制是什么？GC算法和回收策略？

GC是当jvm内存不足时会自动触发对象清理功能，缺点时对象回收时会STW一段时间，GC算法有引用计数法，和GCROOT，回收策略有标记清理，标记复制，标记整理，分代回收

#### 未来的职业规划？

#### 线程池由哪些组件组成？

WorkThread，Queue，线程管理器，

#### 有哪些线程池，分别怎么使用？拒绝策略有哪些？

缓存，fix，调度，单线程调度除了fix其他线程池的最大线程数都是Integer.MAX_VALUE 有造成OOM的可能，

fix他的队列是LinkedBlockingQueue 最大长度也是Integer.MAX_VALUE 也有可能OOM

调度和单线程调度主要是用于定时调度使用的

#### 什么时候多线程会发生死锁，写一个例子？

当A线程再等待B线程释放资源，B线程再等待A线程释放资源

```java
public class TestCurl {
   public static class ThreadLock extends Thread{
       Object a;
       Object b;

       public ThreadLock( Object a, Object b) {
           this.a = a;
           this.b = b;
       }
       @Override
       public void run(){
           synchronized (a){
               try {
                   TimeUnit.SECONDS.sleep(1);
                   System.out.println(2222);
                   synchronized (b){
                       System.out.println(1111);
                   }
               } catch (InterruptedException e) {
                   e.printStackTrace();
               }
           }
       }
   }
    public static void main(String[] args) {
         Object a = new Object();
         Object b = new Object();
       ThreadLock threadLock1 = new ThreadLock(a,b);
        ThreadLock threadLock2 = new ThreadLock(b,a);
       threadLock1.start();
       threadLock2.start();

    }
}
```



#### Redis的数据结构是什么？线程模型说一下？

KV数据结构时间复杂度度O（1）,单线程多路复用，当一个请求进来通过ServerSocket 生成socket，会将socket加入多路复用，并产生一个READABLE事件将socket放入

#### 讲讲Redis的数据淘汰机制？

#### 说说Redis的数据一致性问题？

#### Redis的分布式怎么做？

#### RPC讲一下？

#### 三次握手和四次挥手？如果没有三次握手有问题吗?

#### Http请求过程，DNS解析的过程？

host获取ip,本地

#### InnoDB支持的四种事务隔离级别名称是什么？有什么区别？说说MySQL隔离级别？

#### 事务的特性及慢查询？

ACID，原子性，隔离性，持久性，一致性，是否多表关联（添加冗余索引），全表扫描（加索引），数据量过多（水平拆分）

#### BTree机制说一下？

#### 说说MySQL常用的优化方法？

读写分离，水平拆分数据，冷热隔离，调整不活动的连接时长

#### cap了解吗，分别指什么？

一致性，容错性，可用性

zk 一致性容错性（cp）

#### 强一致性和弱一致性有什么方法来实现的？

强制一致性同步，弱一致性异步:

#### 负载均衡怎么实现？为什么这么做？

#### 缓存雪崩说下？

#### MySQL主从复制怎么实现的？具体原理是什么？有什么优缺点？

#### 讲讲分布式事务？

#### 消息队列，用到什么场景（削峰，限流，异步）？

#### zk的性能瓶颈怎么克服？

#### 讲了下kafka，怎么保证数据不丢失？确保消息不会重复消费？

通过配置，acks 强一致性策略zk上isr所有节点都成功接收，则返回，弱一致，主节点接收返回，有丢失的风险，broker接收直接返回丢失风险高，通过消费一条消息来提交offset可通过配置，enable.auto.commit

#### 消息送达确认是怎么实现的？

消费消息会提交offset

#### 主要用到的架构，做了些什么？

#### 比较复杂的业务逻辑讲一下？

#### 遇到很难解决的问题和突破收货

#### 以后的打算和未来的职业发展，谈谈自己的看法

#### 什么是多线程并发和并行？

#### 什么是线程安全问题？

#### 什么是共享变量的内存可见性问题？

#### 什么是Java中原子性操作？

#### 什么是Java中的CAS操作,AtomicLong实现原理？

#### 什么是Java指令重排序？

#### Java中Synchronized关键字的内存语义是什么？

moniterenter moniterexit，清空缓存，缓存同步到主内存

#### Java中Volatile关键字的内存语义是什么？

写 storestore storeload 读 loadload loadstore

#### 什么是伪共享,为何会出现，以及如何避免？

缓存行64字节，两个紧挨着long a,b  a被修改的时候 这个缓存行失效，所以b缓存也随之失效了

#### 什么是可重入锁、乐观锁、悲观锁、公平锁、非公平锁、独占锁、共享锁？

#### 讲讲ThreadLocal 的实现原理？

#### ThreadLocal 作为变量的线程隔离方式，其内部是如何做的？

#### 说说InheritableThreadLocal 的实现原理？

Thread 初始化的时候init 方法 会将 parent 的InheritableThreadLocal复值给当前线程的InheritableThreadLocal

#### InheritableThreadLocal 是如何弥补 ThreadLocal 不支持继承的特性？

Thread 初始化的时候init 方法 会将 parent 的InheritableThreadLocal复值给当前线程的InheritableThreadLocal

#### CyclicBarrier内部的实现与 CountDownLatch 有何不同？

#### 随机数生成器 Random 类如何使用 CAS 算法保证多线程下新种子的唯一性？

#### ThreadLocalRandom 是如何利用 ThreadLocal 的原理来解决 Random 的局限性？

#### Spring 框架中如何使用 ThreadLocal 实现 request scope 作用域 Bean？

#### 并发包中锁的实现底层（对AQS的理解）？

#### 讲讲独占锁 ReentrantLock 原理？

#### 谈谈读写锁 ReentrantReadWriteLock 原理？

第16位读锁，高16位写锁，不公平如果当前是读锁当读事件触发则直接获取锁，如果是写锁则进入AQS队列

#### StampedLock 锁原理的理解？

公平锁，第8位表示写锁，最多126个读锁同时并行，解决写锁饥饿现象，读锁保存再读锁的cowait字段并发超过126则生成新的节点如果写锁直接生成节点

#### 谈下对基于链表的非阻塞无界队列 ConcurrentLinkedQueue 原理的理解？

#### ConcurrentLinkedQueue 内部是如何使用 CAS 非阻塞算法来保证多线程下入队出队操作的线程安全？

#### 基于链表的阻塞队列 LinkedBlockingQueue 原理。

#### Java 内存分配？

#### Java 堆的结构是什么样子的？

e s0 s1 old

#### 什么是堆中的永久代（Perm Gen space）?

#### 简述各个版本内存区域的变化？

#### 说说各个区域的作用？

#### Java 中会存在内存泄漏吗，简述一下？

#### Java 类加载过程？

#### 描述一下 JVM 加载 Class 文件的原理机制?

#### 什么是类加载器？

#### 类加载器有哪些？

#### 什么是tomcat类加载机制？

#### 类加载器双亲委派模型机制？

#### 什么是GC? 为什么要有 GC？

#### 简述一下Java 垃圾回收机制？

#### 如何判断一个对象是否存活？

#### 垃圾回收的优点和原理，并考虑 2 种回收机制？

#### 垃圾回收器的基本原理是什么？

#### 垃圾回收器可以马上回收内存吗？有什么办法主动通知虚拟机进行垃圾回收？

#### 深拷贝和浅拷贝？

#### System.gc() 和 Runtime.gc() 会做些什么？

#### 如果对象的引用被置为 null，垃圾收集器是否会立即释放对象占用的内存？

#### 什么是分布式垃圾回收（DGC）？它是如何工作的？

#### 为什么需要代理模式？

#### 讲讲静态代理模式的优点及其瓶颈？

#### 对Java 接口代理模式的实现原理的理解？

#### 如何使用 Java 反射实现动态代理？

#### Java 接口代理模式的指定增强？

#### 谈谈对Cglib 类增强动态代理的实现？

#### point cut，advice，Join point是什么？

#### join point 和 point cut 的区别？

#### 怎么理解面向切面编程的切面？

#### 谈谈对SpringAOP Weaving（织入）的理解？

#### 谈谈SpringAOP Introduction（引入）的理解？

#### 讲解OOP与AOP的简单对比？

#### 讲解JDK 动态代理和 CGLIB 代理原理以及区别？

#### 讲解Spring 框架中基于 Schema 的 AOP 实现原理？

#### 讲解Spring 框架中如何基于 AOP 实现的事务管理？

#### 谈谈对控制反转的设计思想的理解？

#### 怎么理解 Spring IOC 容器？

#### MySQL 有哪些存储引擎啊？都有什么区别？

#### Float、Decimal 存储金额的区别？

#### Datetime、Timestamp 存储时间的区别？

#### Char、Varchar、Varbinary 存储字符的区别？

#### 什么是索引？

#### 对比一下B+树索引和 Hash索引？

#### MySQL索引类型有？

#### 如何管理 MySQL索引？

#### 对Explain参数及重要参数的理解？

#### 索引利弊是什么及索引分类？

#### 二叉树的转置是什么？

#### 聚簇索引和非聚簇索引的区别？

#### B+tree 如何进行优化？索引遵循哪些原则？存储引擎会进行哪些自动优化？到底何时索引会失效？

#### 索引与锁有什么关系？

#### 还有什么其他的索引类型，各自索引有哪些优缺点？

#### 谈谈对Innodb事务的理解？

#### 说说数据库事务特点及潜在问题？

#### 什么是MySQL隔离级别？

#### 有多少种事务失效的场景，如何解决？

#### redis数据结构有哪些？

#### Redis缓存穿透，缓存雪崩？

#### 如何使用Redis来实现分布式锁？

#### Redis的并发竞争问题如何解决？

#### Redis持久化的几种方式，优缺点是什么，怎么实现的？

#### Redis的缓存失效策略？

#### Redis集群，高可用，原理？

#### Redis缓存分片？

#### Redis的数据淘汰策略？

#### redis队列应用场景？

#### 分布式使用场景（储存session）？

#### TCP建立连接和断开连接的过程？

#### HTTP协议的交互流程，HTTP和HTTPS的差异，SSL的交互流程？

#### TCP的滑动窗口协议有什么用？

#### HTTP协议都有哪些方法？

#### Socket交互的基本流程？

#### 讲讲tcp协议（建连过程，慢启动，滑动窗口，七层模型）？

#### webservice协议（wsdl/soap格式，与restt办议的区别）？

#### 说说Netty线程模型，什么是零拷贝？

#### TCP三次握手、四次挥手？

#### DNS解析过程？

#### TCP如何保证数据的可靠传输的？

#### 什么是CAP定理？

#### 说说CAP理论和BASE理论？

#### 什么是最终一致性？最终一致性实现方式？

#### 什么是一致性Hash？

#### 讲讲分布式事务？

#### 如何实现分布式锁？

#### 如何实现分布式 Session?

#### 如何保证消息的一致性?

#### 负载均衡的理解？

#### 正向代理和反向代理？

#### CDN实现原理？

#### 怎么提升系统的QPS和吞吐？

#### Dubbo的底层实现原理和机制？

#### 描述一个服务从发布到被消费的详细过程？

#### 分布式系统怎么做服务治理？

#### 消息中间件如何解决消息丢失问题？

#### Dubbo的服务请求失败怎么处理？

#### 对分布式事务的理解？

#### 如何实现负载均衡,有哪些算法可以实现?

#### Zookeeper的用途,选举的原理是什么?

#### 讲讲数据的垂直拆分水平拆分？

#### 接口服务如何防止重复被调用